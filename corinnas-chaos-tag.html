<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Corinnas ewiger Fail-Tag â€“ Horror Edition</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <style>
        :root {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            color-scheme: dark light;
        }

        body {
            margin: 0;
            padding: 0;
            background: #020617;
            color: #f9fafb;
        }

        #app {
            max-width: 720px;
            margin: 0 auto;
            padding: 16px;
        }

        h1 {
            font-size: 1.4rem;
            margin-top: 0;
            text-align: center;
        }

        #story {
            border-radius: 8px;
            border: 1px solid #4b5563;
            padding: 12px;
            min-height: 260px;
            max-height: 380px;
            overflow-y: auto;
            white-space: pre-line;
            font-size: 0.95rem;
            background: #020617;
        }

        .buttons {
            margin-top: 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        button {
            border-radius: 999px;
            border: none;
            padding: 10px 14px;
            font-size: 0.95rem;
            cursor: pointer;
            background: #2563eb;
            color: #fff;
        }

        button.secondary {
            background: #374151;
        }

        button:disabled {
            opacity: 0.5;
            cursor: default;
        }

        #shareBtn,
        #copyBtn,
        #downloadBtn {
            width: 100%;
            margin-top: 8px;
        }

        #sceneInfo {
            margin-top: 8px;
            font-size: 0.85rem;
            color: #9ca3af;
            text-align: right;
        }

        @media (prefers-color-scheme: light) {
            body { background: #f3f4f6; color: #111827; }
            #story { background: #ffffff; border-color: #d1d5db; }
            button { background: #2563eb; }
            button.secondary { background: #e5e7eb; color: #111827; }
        }
    </style>
</head>
<body>
<div id="app">
    <h1>Corinnas ewiger Fail-Tag â€“ Horror Edition</h1>

    <div id="story"></div>
    <div id="sceneInfo"></div>

    <div class="buttons">
        <button id="choice1"></button>
        <button id="choice2"></button>
        <button id="choice3"></button>
    </div>

    <button id="shareBtn" class="secondary">Ergebnis teilen (Discord / WhatsApp â€¦)</button>
    <button id="copyBtn" class="secondary">Ergebnis in Zwischenablage kopieren</button>
    <button id="downloadBtn" class="secondary">Ergebnis als TXT herunterladen</button>
</div>

<script>
    let storyEl, sceneInfoEl,
        choice1Btn, choice2Btn, choice3Btn,
        shareBtn, copyBtn, downloadBtn;

    const state = {
        currentScene: 0, // 0 = Intro, 1â€“6 Szenen, -1 = Ende
        log: []
    };

    function resetState() {
        state.currentScene = 0;
        state.log = [];
    }

    function showIntro() {
        resetState();
        shareBtn.disabled = true;
        copyBtn.disabled = true;
        downloadBtn.disabled = true;

        storyEl.textContent =
`Willkommen bei Corinnas ewiger Fail-Tag â€“ Horror Edition.

Heute hat Corinna nicht nur Pech,
sondern auch das GefÃ¼hl, dass irgendwas mit ihr spielt.

Du entscheidest, was sie in ihren gruseligen
und peinlichen Momenten macht.

Je nachdem, wofÃ¼r du dich entscheidest,
wirkt Corinna eher mutig, rational oder
komplett \"ich kÃ¼ndige mein Leben\".

Am Ende bekommst du eine Auswertung als Text.`;

        sceneInfoEl.textContent = "";
        choice1Btn.textContent = "Los gehtâ€™s";
        choice2Btn.style.display = "none";
        choice3Btn.style.display = "none";
    }

    function showSceneInfo() {
        if (state.currentScene >= 1 && state.currentScene <= 6) {
            sceneInfoEl.textContent = `Szene ${state.currentScene} von 6`;
        } else {
            sceneInfoEl.textContent = "";
        }
    }

    // --- Szenen mit Horror-AtmosphÃ¤re ---

    // 1 â€“ Dusch-Fail im Geisterbad
    function showScene1() {
        state.currentScene = 1;
        storyEl.textContent =
`SZENE 1 â€“ Dusch-Fail im Geisterbad
-----------------------------------
Es ist spÃ¤t, Corinna duscht. Das Bad ist leicht beschlagen,
alles ganz normal, bis das Licht kurz flackert.

Sie bleibt stehen.

Noch ein Flackern.
Dann wird das Wasser plÃ¶tzlich eiskalt,
obwohl sie nichts verstellt hat.

Als sie den Duschvorhang zur Seite schieben will,
spÃ¼rt sie an ihrem KnÃ¶chel ganz kurz etwas Kaltes â€“
als hÃ¤tte sie jemand berÃ¼hrt. Nichts zu sehen.

Der Vorhang bewegt sich einen Moment,
obwohl kein Zug da ist.`;

        choice1Btn.textContent = "1) Corinna ruft laut: \"Okay, wer auch immer hier rumspukt â€“ ich bin nackt und genervt, such dir wen anders!\" und beendet die Dusche schnell.";
        choice2Btn.textContent = "2) Corinna stellt das Wasser aus, atmet durch, macht das Licht an/aus und checkt alles logisch: Rohre, Fenster, Sicherung.";
        choice3Btn.textContent = "3) Corinna ignoriert es, singt extra laut irgendein Lied, um sich selbst zu beruhigen, und tut so, als wÃ¤re nichts.";

        choice2Btn.style.display = "block";
        choice3Btn.style.display = "block";

        state.log.push("Szene 1 â€“ Dusch-Fail im Geisterbad");
        state.log.push("Frage: Wie reagiert Corinna, als das Bad plÃ¶tzlich wie aus einem Horrorfilm wirkt?");
        state.log.push("");
        showSceneInfo();
    }

    // 2 â€“ Flurflackern
    function showScene2() {
        state.currentScene = 2;
        storyEl.textContent =
`SZENE 2 â€“ Flurflackern
----------------------
SpÃ¤ter lÃ¤uft Corinna durch den dunklen Flur.
Nur das Licht im Flur ist an â€“ und natÃ¼rlich fÃ¤ngt
genau jetzt die Lampe an zu flackern.

FÃ¼r einen Moment meint sie, am Ende des Flurs
eine Gestalt zu sehen. Dann ist das Licht aus.
Als es wieder angeht, ist der Flur leer.

Die HaustÃ¼r, von der sie sicher war,
dass sie zu ist, steht einen Spalt offen.`;

        choice1Btn.textContent = "1) Corinna geht hin, macht die TÃ¼r wieder zu und sagt laut: \"Nein. Einfach nein.\" Dann kontrolliert sie alle SchlÃ¶sser.";
        choice2Btn.textContent = "2) Corinna filmt alles mit dem Handy, kommentiert es wie ein billiger Found-Footage-Horrorfilm.";
        choice3Btn.textContent = "3) Corinna ruft eine Freundin an und bleibt am Telefon, wÃ¤hrend sie die Wohnung checkt.";

        state.log.push("Szene 2 â€“ Flurflackern");
        state.log.push("Frage: Was macht Corinna, als Licht und TÃ¼r sich creepy verhalten?");
        state.log.push("");
        showSceneInfo();
    }

    // 3 â€“ Chat aus dem Nichts
    function showScene3() {
        state.currentScene = 3;
        storyEl.textContent =
`SZENE 3 â€“ Chat aus dem Nichts
------------------------------
Corinna liegt auf dem Sofa und scrollt am Handy.
PlÃ¶tzlich bekommt sie eine neue Nachricht von einem
Kontakt, den es eigentlich nicht mehr gibt:
Der Chat wurde vor Monaten gelÃ¶scht.

Der Name steht einfach da: \"Corinna\".
Ihre eigene Nummer.

Nachricht: \"Du solltest nicht allein sein heute.\"`;

        choice1Btn.textContent = "1) Corinna macht einen Screenshot, lacht nervÃ¶s und schreibt zurÃ¼ck: \"Okay, Vergangenheits-Ich, was weiÃŸt du, was ich nicht weiÃŸ?\"";
        choice2Btn.textContent = "2) Corinna blockiert die Nummer sofort, lÃ¶scht den Chat und legt das Handy weg, als wÃ¤re es heiÃŸ.";
        choice3Btn.textContent = "3) Corinna schreibt: \"Cool, dann reden wir mal Klartext.\" und tippt alles auf, was sie sich selbst schon immer sagen wollte.";

        state.log.push("Szene 3 â€“ Chat aus dem Nichts");
        state.log.push("Frage: Wie reagiert Corinna, als ihr Handy ihr eine Nachricht von 'sich selbst' schickt?");
        state.log.push("");
        showSceneInfo();
    }

    // 4 â€“ Spiegelversatz
    function showScene4() {
        state.currentScene = 4;
        storyEl.textContent =
`SZENE 4 â€“ Spiegelversatz
-------------------------
Im Bad steht Corinna vor dem Spiegel,
um sich die Haare zu richten.

Sie bewegt die Hand â€“ doch ihr Spiegelbild
zieht minimal verzÃ¶gert nach. Nur eine halbe Sekunde,
aber genug, um ihr Herz kurz aus dem Takt zu bringen.

Sie blinzelt. Das Spiegelbild auch.
Dann lÃ¤chelt sie â€“ und ist sich sicher, dass
ihr Spiegelbild zuerst grinst.`;

        choice1Btn.textContent = "1) Corinna winkt, macht dumme Grimassen und wartet, ob der Spiegel irgendwann \"aussteigt\".";
        choice2Btn.textContent = "2) Corinna fasst den Spiegel an, schaltet das Licht aus/an, prÃ¼ft, ob es nur an ihr liegt â€“ very rational mode.";
        choice3Btn.textContent = "3) Corinna sagt ernst in den Spiegel: \"Wenn du mich ersetzen willst, musst du wenigstens meinen Humor klauen.\"";

        state.log.push("Szene 4 â€“ Spiegelversatz");
        state.log.push("Frage: Was macht Corinna, als ihr Spiegelbild sich nicht ganz normal verhÃ¤lt?");
        state.log.push("");
        showSceneInfo();
    }

    // 5 â€“ Alle starren
    function showScene5() {
        state.currentScene = 5;
        storyEl.textContent =
`SZENE 5 â€“ Alle starren
-----------------------
Corinna steht abends an der Haltestelle.
Es ist relativ leer, nur ein paar Leute warten.

FÃ¼r einen Moment haben alle gleichzeitig
das Handy in der Hand. Dann, wie auf ein
unsichtbares Kommando, heben sie den Kopf
und schauen genau in ihre Richtung.

Keiner sagt etwas.
Nach ein paar Sekunden schauen alle einfach
wieder weg, als wÃ¤re nichts gewesen.`;

        choice1Btn.textContent = "1) Corinna schaut zurÃ¼ck und sagt laut: \"Hab ich was im Gesicht, oder ist das hier eine neue Challenge?\"";
        choice2Btn.textContent = "2) Corinna tut so, als hÃ¤tte sie es nicht bemerkt, macht aber heimlich ein Foto von der Situation.";
        choice3Btn.textContent = "3) Corinna geht ein paar Schritte zur Seite, um zu checken, ob irgendwas hinter ihr ist, das alle sehen.";

        state.log.push("Szene 5 â€“ Alle starren");
        state.log.push("Frage: Wie reagiert Corinna, als alle gleichzeitig in ihre Richtung schauen?");
        state.log.push("");
        showSceneInfo();
    }

    // 6 â€“ Das GerÃ¤usch unter dem Bett
    function showScene6() {
        state.currentScene = 6;
        storyEl.textContent =
`SZENE 6 â€“ Das GerÃ¤usch unter dem Bett
--------------------------------------
Es ist spÃ¤t. Corinna liegt im Bett und versucht,
die ganzen weirden Momente des Tages zu vergessen.

Dann hÃ¶rt sie unter dem Bett ein leises Kratzen.
Nicht laut, aber regelmÃ¤ÃŸig.

Sie starrt an die Decke und spÃ¼rt, wie ihre
Fantasie plÃ¶tzlich sehr aktiv wird.`;

        choice1Btn.textContent = "1) Corinna holt die Taschenlampe am Handy raus, schaut nach und redet dabei laut, um sich selbst zu beruhigen.";
        choice2Btn.textContent = "2) Corinna zieht einfach die Decke hÃ¶her, steckt die FÃ¼ÃŸe ein und entscheidet: \"Wenn ich es nicht sehe, sieht es mich auch nicht.\"";
        choice3Btn.textContent = "3) Corinna stellt eine Sprachnachricht an eine Freundin an, legt das Handy neben sich und kommentiert alles live, wÃ¤hrend sie nachschaut.";

        state.log.push("Szene 6 â€“ Das GerÃ¤usch unter dem Bett");
        state.log.push("Frage: Wie geht Corinna mit dem finalen \"Da kÃ¶nnte was sein\"-Moment um?");
        state.log.push("");
        showSceneInfo();
    }

    function showEnd() {
        state.currentScene = -1;
        shareBtn.disabled = false;
        copyBtn.disabled = false;
        downloadBtn.disabled = false;
        sceneInfoEl.textContent = "Auswertung";

        const result = buildResultText();
        storyEl.textContent = result;

        choice1Btn.textContent = "Nochmal spielen";
        choice2Btn.style.display = "none";
        choice3Btn.style.display = "none";
    }

    // --- Antwort-Logik ---

    function handleScene1(choice) {
        if (choice === 1) {
            state.log.push("Antwort: Corinna konfrontiert das 'Spuk-Ding' laut, beendet die Dusche schnell und macht klar, dass sie keinen Nerv dafÃ¼r hat.");
            state.log.push("Interpretation: Sie reagiert mit Humor und Konfrontation, wenn sie Angst hat.");
        } else if (choice === 2) {
            state.log.push("Antwort: Corinna checkt alles logisch â€“ Wasser, Licht, Bad â€“ und sucht eine realistische ErklÃ¤rung.");
            state.log.push("Interpretation: Sie versucht, Horror-Situationen erstmal rational zu entschÃ¤rfen.");
        } else if (choice === 3) {
            state.log.push("Antwort: Corinna singt extra laut und tut so, als sei nichts UngewÃ¶hnliches passiert.");
            state.log.push("Interpretation: Sie Ã¼berspielt Angst, indem sie sie ignoriert und sich selber beschallt.");
        }
        state.log.push("");
        showScene2();
    }

    function handleScene2(choice) {
        if (choice === 1) {
            state.log.push("Antwort: Corinna macht die TÃ¼r einfach wieder zu und kontrolliert alle SchlÃ¶sser.");
            state.log.push("Interpretation: Sie will Kontrolle zurÃ¼ck â€“ praktische Sicherheit gegen diffuse Angst.");
        } else if (choice === 2) {
            state.log.push("Antwort: Corinna filmt alles und kommentiert es wie einen Trash-Horrorfilm.");
            state.log.push("Interpretation: Sie verwandelt Angst in Content und Humor.");
        } else if (choice === 3) {
            state.log.push("Antwort: Corinna ruft jemand an und checkt die Wohnung nicht allein.");
            state.log.push("Interpretation: Sie holt sich UnterstÃ¼tzung, statt tapfer alles solo zu machen.");
        }
        state.log.push("");
        showScene3();
    }

    function handleScene3(choice) {
        if (choice === 1) {
            state.log.push("Antwort: Corinna schreibt ihrem 'Vergangenheits-Ich' zurÃ¼ck und macht einen Witz daraus.");
            state.log.push("Interpretation: Sie nutzt Humor, um das Unheimliche zu entwaffnen.");
        } else if (choice === 2) {
            state.log.push("Antwort: Corinna blockiert die Nummer sofort und entfernt alles.");
            state.log.push("Interpretation: Sie schneidet potenziell creepy Dinge lieber direkt ab.");
        } else if (choice === 3) {
            state.log.push("Antwort: Corinna nutzt den Moment, um sich selbst ehrlich Dinge zu schreiben.");
            state.log.push("Interpretation: Sie dreht Horror in Selbstreflexion um.");
        }
        state.log.push("");
        showScene4();
    }

    function handleScene4(choice) {
        if (choice === 1) {
            state.log.push("Antwort: Corinna macht Grimassen und testet den Spiegel spielerisch aus.");
            state.log.push("Interpretation: Sie begegnet dem Unheimlichen neugierig und mit Humor.");
        } else if (choice === 2) {
            state.log.push("Antwort: Corinna Ã¼berprÃ¼ft Licht, Spiegel und sich selbst mÃ¶glichst sachlich.");
            state.log.push("Interpretation: Sie vertraut lieber Technik/Logik als Spuk.");
        } else if (choice === 3) {
            state.log.push("Antwort: Corinna spricht den Spiegel direkt an und macht einen frechen Kommentar.");
            state.log.push("Interpretation: Sie wehrt Angst mit frecher Konfrontation ab.");
        }
        state.log.push("");
        showScene5();
    }

    function handleScene5(choice) {
        if (choice === 1) {
            state.log.push("Antwort: Corinna spricht die Situation offen an und macht sie zur halben Comedy-Show.");
            state.log.push("Interpretation: Sie nimmt Fremdscham-Momente aktiv in die Hand, statt sie zu ertragen.");
        } else if (choice === 2) {
            state.log.push("Antwort: Corinna tut, als wÃ¤re nichts, dokumentiert es aber heimlich.");
            state.log.push("Interpretation: Nach auÃŸen ruhig, innerlich speichert sie alles als Story ab.");
        } else if (choice === 3) {
            state.log.push("Antwort: Corinna checkt zuerst, ob hinter ihr etwas ist, das alle sehen.");
            state.log.push("Interpretation: Sie glaubt eher an 'irgendwas stimmt hier nicht' als an reine ZufÃ¤lle.");
        }
        state.log.push("");
        showScene6();
    }

    function handleScene6(choice) {
        if (choice === 1) {
            state.log.push("Antwort: Corinna schaut mit Licht nach und kommentiert alles laut.");
            state.log.push("Interpretation: Sie hat Angst, aber stellt sich ihr aktiv.");
        } else if (choice === 2) {
            state.log.push("Antwort: Corinna versteckt sich unter der Decke und hofft, dass 'es' sie ignoriert.");
            state.log.push("Interpretation: Klassischer Decken-Instinkt â€“ Vermeidung statt Konfrontation.");
        } else if (choice === 3) {
            state.log.push("Antwort: Corinna macht einen Live-Kommentar fÃ¼r eine Freundin, wÃ¤hrend sie nachschaut.");
            state.log.push("Interpretation: Sie braucht Verbindung zu jemandem, um sich gruselige Sachen zu trauen.");
        }
        state.log.push("");
        showEnd();
    }

    // --- Steuerung ---

    function handleChoice(choice) {
        if (state.currentScene === 0) {
            showScene1();
            return;
        }
        if (state.currentScene === -1) {
            showIntro();
            return;
        }

        if (state.currentScene === 1) handleScene1(choice);
        else if (state.currentScene === 2) handleScene2(choice);
        else if (state.currentScene === 3) handleScene3(choice);
        else if (state.currentScene === 4) handleScene4(choice);
        else if (state.currentScene === 5) handleScene5(choice);
        else if (state.currentScene === 6) handleScene6(choice);
    }

    // --- Ergebnis bauen & teilen ---

    function buildResultText() {
        const lines = [];
        lines.push("Corinnas ewiger Fail-Tag â€“ Horror Edition â€“ Auswertung");
        lines.push("Erstellt am: " + new Date().toLocaleString());
        lines.push("");
        lines.push("Hinweis:");
        lines.push("Die Interpretationen sind spielerische Deutungen davon,");
        lines.push("wie Corinna in den Horror-Fail-Situationen handelt. ðŸ‘»");
        lines.push("");
        state.log.forEach(l => lines.push(l));
        return lines.join("\n");
    }

    async function shareResult() {
        const text = buildResultText();
        if (navigator.share) {
            try {
                await navigator.share({
                title: "Corinnas Horror-Fail-Tag â€“ Ergebnis",
                text: text
            });
            } catch (e) {
                console.log(e);
            }
        } else {
            alert("Dein Browser unterstÃ¼tzt die Teilen-Funktion nicht direkt. Nutze 'kopieren' oder 'TXT herunterladen'.");
        }
    }

    async function copyResult() {
        const text = buildResultText();
        if (navigator.clipboard && navigator.clipboard.writeText) {
            try {
                await navigator.clipboard.writeText(text);
                alert("Ergebnis wurde in die Zwischenablage kopiert.");
            } catch (e) {
                alert("Kopieren nicht mÃ¶glich. Vielleicht im Browser blockiert.");
            }
        } else {
            alert("Kopieren wird von diesem Browser nicht unterstÃ¼tzt.");
        }
    }

    function downloadResult() {
        const text = buildResultText();
        const blob = new Blob([text], { type: "text/plain" });
        const url = URL.createObjectURL(blob);

        const now = new Date();
        const pad = n => n.toString().padStart(2, "0");
        const fileName = `Corinna_HorrorFailTag_${now.getFullYear()}${pad(now.getMonth() + 1)}${pad(now.getDate())}_${pad(now.getHours())}${pad(now.getMinutes())}${pad(now.getSeconds())}.txt`;

        const a = document.createElement("a");
        a.href = url;
        a.download = fileName;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    // Init nach DOM-Load
    function init() {
        storyEl      = document.getElementById("story");
        sceneInfoEl  = document.getElementById("sceneInfo");
        choice1Btn   = document.getElementById("choice1");
        choice2Btn   = document.getElementById("choice2");
        choice3Btn   = document.getElementById("choice3");
        shareBtn     = document.getElementById("shareBtn");
        copyBtn      = document.getElementById("copyBtn");
        downloadBtn  = document.getElementById("downloadBtn");

        choice1Btn.addEventListener("click", () => handleChoice(1));
        choice2Btn.addEventListener("click", () => handleChoice(2));
        choice3Btn.addEventListener("click", () => handleChoice(3));
        shareBtn.addEventListener("click", shareResult);
        copyBtn.addEventListener("click", copyResult);
        downloadBtn.addEventListener("click", downloadResult);

        showIntro();
    }

    window.addEventListener("DOMContentLoaded", init);
</script>
</body>
</html>
